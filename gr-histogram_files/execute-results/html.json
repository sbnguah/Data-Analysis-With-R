{
  "hash": "252dd6f32bfebb9b91ebbf2f3b9dc20e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Histogram\"\n---\n\n\n### Read in Data\n\n\n\n\n\nWe begin by importing the data into R Studio and then summarizing it.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_histo <- \n    readstata13::read.dta13(\"C:/Dataset/olivia_data_wide.dta\") %>% \n    select(hb1, hb2, hb3, hb4)\n\ndf_histo %>% \n    summarytools::dfSummary(labels.col = F, graph.col = F) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nData Frame Summary  \ndf_histo  \nDimensions: 350 x 4  \nDuplicates: 3  \n\n-----------------------------------------------------------------------------------\nNo   Variable    Stats / Values           Freqs (% of Valid)   Valid      Missing  \n---- ----------- ------------------------ -------------------- ---------- ---------\n1    hb1         Mean (sd) : 11.3 (1.2)   57 distinct values   350        0        \n     [numeric]   min < med < max:                              (100.0%)   (0.0%)   \n                 8.3 < 11.3 < 16.6                                                 \n                 IQR (CV) : 1.8 (0.1)                                              \n\n2    hb2         Mean (sd) : 11.2 (1.3)   63 distinct values   350        0        \n     [numeric]   min < med < max:                              (100.0%)   (0.0%)   \n                 6.1 < 11 < 15.6                                                   \n                 IQR (CV) : 1.8 (0.1)                                              \n\n3    hb3         Mean (sd) : 11.1 (1.2)   57 distinct values   350        0        \n     [numeric]   min < med < max:                              (100.0%)   (0.0%)   \n                 8 < 11.1 < 15.2                                                   \n                 IQR (CV) : 1.8 (0.1)                                              \n\n4    hb4         Mean (sd) : 11.8 (2.5)   89 distinct values   350        0        \n     [numeric]   min < med < max:                              (100.0%)   (0.0%)   \n                 3.5 < 11.5 < 24.4                                                 \n                 IQR (CV) : 2.4 (0.2)                                              \n-----------------------------------------------------------------------------------\n```\n\n\n:::\n:::\n\n\n### Simple histogram\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_histo %>% \n    ggplot(aes(x = hb1)) +\n    geom_histogram(\n        col = \"red\", \n        fill = \"snow1\", \n        bins = 12) +\n    labs(\n        x = \"Hemoglobin (mg/dl)\", \n        y = \"Frequency\") +\n    theme_classic()\n```\n\n::: {.cell-output-display}\n![Distribution of the first hemoglobins concentration](gr-histogram_files/figure-html/fig-fig1-1.png){#fig-fig1 width=672}\n:::\n:::\n\n\n### Histogram with normal curve\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_histo %>% \n    ggplot(\n        aes(x = hb1)) + \n    geom_histogram(\n        aes(y = after_stat(density)),\n        breaks = seq(7.5, 17.5, by = 1), \n        colour = \"blue\", \n        fill = \"white\") +\n    stat_function(\n        fun = dnorm, \n        args = list(mean = mean(df_histo$hb1), sd = sd(df_histo$hb1)),\n        color = 'red')+\n    labs(\n        x = \"Hemoglobin (mg/dl)\", \n        y = \"Density\") +\n    theme_classic()\n```\n\n::: {.cell-output-display}\n![Distribution of the first hemoglobins concentration](gr-histogram_files/figure-html/fig-fig2-1.png){#fig-fig2 width=672}\n:::\n:::\n\n\n### Panel histogram\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_temp <- \n    df_histo %>% \n    pivot_longer(cols = c(hb1, hb2, hb3, hb4)) %>% \n    drop_na(value) %>% \n    mutate(\n        name = factor(\n            name, \n            levels = c(\"hb1\", \"hb2\", \"hb3\", \"hb4\"),\n            labels = c(\"First HB\", \"Second HB\", \"Third HB\", \"Fourth HB\")))\n\ndf_temp %>% \n    ggplot(\n        aes(x = value)) + \n    geom_histogram(\n        aes(y = after_stat(density)),\n        breaks = seq(7.55, 17.5, by = 1), \n        colour = \"blue\", \n        fill = \"white\", \n        bins = 10) +\n    stat_function(\n        fun = dnorm, \n        args = list(\n            mean = mean(df_temp$value), sd = sd(df_temp$value)),\n        color = 'red')+\n    labs(\n        x = \"Hemoglobin (mg/dl)\", \n        y = \"Density\") +\n    theme_bw()+\n    facet_wrap(\n        facets = .~name)+\n    theme(\n        text = element_text(family = \"serif\"),\n        strip.text = element_text(face = \"bold\", color = \"white\"),\n        strip.background = element_rect(fill = \"#4C4CBD\"),\n        plot.title = element_text(face = 'bold'))\n```\n\n::: {.cell-output-display}\n![Distribution of the first hemoglobins concentration](gr-histogram_files/figure-html/fig-fig3-1.png){#fig-fig3 width=672}\n:::\n:::\n",
    "supporting": [
      "gr-histogram_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}